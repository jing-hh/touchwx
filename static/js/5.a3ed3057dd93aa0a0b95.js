webpackJsonp([5],{liAG:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("//Fk"),n=e.n(s),i=e("S49b"),c={data:function(){return{agent_num:"",page:{total:null,pageNo:1,pageSize:10},lists:[]}},created:function(){this.fetchData()},methods:{handleCurrentChange:function(t){this.page.pageNo=t,this.fetchData()},fetchData:function(){var t=this;return new n.a(function(a,e){var s={pageNo:t.page.pageNo,pageSize:10};Object(i.c)(s).then(function(e){1==e.data.code&&(t.lists=e.data.data,t.page.total=e.data.total,t.agent_num=e.data.agent_num?e.data.agent_num:0),a(e)}).catch(function(t){e(t)})})},add_aggent:function(){this.agent_num>0&&this.$router.push({name:"addmember"})},handleSizeChange:function(t){this.page.pageSize=t,this.fetchData()},remove:function(t){var a=this;Object(i.f)(t).then(function(t){1==t.data.code?(a.$message.success("移除门店成功"),a.fetchData().then(function(t){""==t.data.data&&(a.page.pageNo--,a.fetchData())})):a.$message.error("移除门店失败")})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"public_content"},[t._m(0),t._v(" "),e("div",{staticClass:"add_aggent"},[e("span",{staticClass:"flag"},[t._v("门店可添加经纪人总人数 "),e("em",[t._v(t._s(t.agent_num))]),t._v(" 人")]),t._v(" "),e("span",{staticClass:"public_btn ",class:t.agent_num>0?"blue":"grey",on:{click:t.add_aggent}},[t._v("添加经纪人")])]),t._v(" "),e("ul",{staticClass:"members-wrap"},t._l(t.lists,function(a,s){return e("li",{staticClass:"item"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:a.head_portrait}}),t._v(" "),e("p",{staticClass:"hover"},[t._v(t._s(a.is_shopowner?"店长":"经纪人"))])]),t._v(" "),e("div",{staticClass:"aggent_info"},[e("div",{staticClass:"name_tag"},[e("span",[t._v(t._s(a.realname))]),t._v(" "),a.meal_level?e("img",{staticClass:"mark",attrs:{src:t._f("markImg")(a.meal_level),alt:""}}):t._e()]),t._v(" "),e("div",{staticClass:"house_info"},[e("span",[t._v("二手房"),e("em",[t._v(t._s(a.rent_nums))]),t._v("套")]),t._v(" "),e("span",[t._v("租房"),e("em",[t._v(t._s(a.sale_nums))]),t._v("套")]),t._v(" "),e("span",[t._v("商铺"),e("em",[t._v(t._s(a.shop_nums))]),t._v("套")])]),t._v(" "),e("p",{staticClass:"createtime"},[e("span",[t._v(t._s(t._f("formatDate")(a.createtime)))]),t._v(" "),e("span",[t._v("加入")])])]),t._v(" "),e("div",{staticClass:"handle"},[1==a.is_shopowner?e("span",{staticClass:"public_btn blue"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v("查看门店")]):e("span",{staticClass:"public_btn red",on:{click:function(e){t.remove(a.id)}}},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v("移出门店")]),t._v(" "),t._m(1,!0)])])})),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.lists.length,expression:"lists.length == 0"}],staticClass:"noContent"},[t._v("暂无数据")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.lists.length>0,expression:"lists.length > 0"}],staticClass:"mt-20 text-right"},[e("el-pagination",{attrs:{"current-page":t.page.currentPage3,"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.$set(t.page,"currentPage3",a)}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"public_title"},[a("span",[this._v("团队成员")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"public_btn green"},[a("i",{staticClass:"iconfont"},[this._v("")]),this._v("他的店铺")])}]};var _=e("VU/8")(c,l,!1,function(t){e("oEIo")},"data-v-e4ddc548",null);a.default=_.exports},oEIo:function(t,a){}});
//# sourceMappingURL=5.a3ed3057dd93aa0a0b95.js.map