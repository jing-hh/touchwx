{"version":3,"sources":["webpack:///./src/components/address/location.vue?6224","webpack:///./src/components/address/location.vue","webpack:///src/components/address/location.vue","webpack:///src/views/community/add.vue","webpack:///./src/views/community/add.vue?a48c","webpack:///./src/views/community/add.vue"],"names":["components_address_location","render","_h","this","$createElement","_self","_c","directives","name","rawName","value","expression","staticClass","staticStyle","z-index","on","click","hide","staticRenderFns","src_components_address_location","__webpack_require__","normalizeComponent","props","data","mounted","methods","ssrContext","add","components","uploadImg","uploadimg","vAddress","address","editor","location","flag","decoration","housetype","feature","ruleForm","thumb","community","region","estate","biulidingtype","propertytype","content","lng","lat","propertyfee","rules","required","message","trigger","watch","ruleForm.community","val","oldVal","_this2","Object","house","then","res","msg","$message","error","beforeRouteEnter","to","from","next","params","vm","search","created","_this3","submitForm","formName","_this4","$refs","validate","valid","code","success","$route","type","$router","push","changeLogo","src","loactionChange","emitChange","editors","onEditorUploadComplete","json","filePath","community_add","_vm","_v","attrs","icon","size","$event","go","ref","model","label-width","label","prop","width","callback","$$v","$set","trim","pregion","pestate","placeholder","color","padding-left","cursor","visible","slot","onSuccess","_l","item","key","id","_s","paramname","margin-bottom","show","on-upload-success","round","add_Component","add_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.eac4865b4404e176907d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"modal\",staticStyle:{\"z-index\":\"2001\"},on:{\"click\":_vm.hide}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05b8bcdd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/address/location.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05b8bcdd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./location.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./location.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./location.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05b8bcdd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./location.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05b8bcdd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/address/location.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"modal\" style=\"z-index: 2001;\" v-show=\"visible\" @click=\"hide\">\r\n      <!-- <div class=\"el-dialog__wrapper\" style=\"z-index: 2002;\">\r\n        <div role=\"dialog\" aria-modal=\"true\" aria-label=\"提示\" class=\"el-dialog\" style=\"margin-top: 15vh;width: 660px;\">\r\n          <div class=\"el-dialog__header\">\r\n            <span class=\"el-dialog__title\">小区位置</span>\r\n            <button type=\"button\" aria-label=\"Close\" class=\"el-dialog__headerbtn\">\r\n              <i class=\"el-dialog__close el-icon el-icon-close\" @click=\"visible = false\"></i>\r\n            </button>\r\n          </div>\r\n        <div class=\"dialog__body\"> \r\n              <span>地区定位：</span>\r\n\r\n              <input class=\"public_input\" style=\"width: 250px;\" type=\"text\" v-model=\"form.userInput\" placeholder=\"可在地图拖动调整\">  \r\n              <el-button type=\"primary\" small @click=\"theLocation\">查找</el-button>\r\n\r\n              <div v-show=\"form.lng\" class=\"result\">\r\n                <span>经度： {{form.lng}}</span> <span>纬度：{{form.lat}}</span>\r\n              </div>\r\n\r\n            </el-form>\r\n            <div id=\"allmap\" style=\"width: 610px;height: 300px;margin-top:20px\"></div>\r\n\r\n        </div>\r\n        <div class=\"el-dialog__footer\">\r\n          <span class=\"dialog-footer\"> \r\n\r\n            <el-button type=\"primary\" round @click=\"submit\">确定标注</el-button>\r\n\r\n          </span>\r\n        </div>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n </template>\r\n\r\n<script>\r\n// import BMap from 'BMap'\r\n\r\nexport default {\r\n  props: ['userInput'],\r\n  data() {\r\n    return {\r\n      // visible: false,\r\n      // form: {\r\n      //   userInput: this.userInput,\r\n      //   lng: \"\",\r\n      //   lat: \"\"\r\n      // },\r\n      // local: Object,\r\n      // map: Object\r\n    };\r\n  },\r\n  mounted() {\r\n    // this.map = new BMap.Map(\"allmap\");\r\n    // var _this = this;\r\n    // this.map.enableScrollWheelZoom();\r\n    // this.map.centerAndZoom(\"南京\", 15);\r\n\r\n    // this.map.addEventListener(\"click\", function(e) {\r\n    //   _this.map.clearOverlays();\r\n    //   _this.form.lng = e.point.lng;\r\n    //   _this.form.lat = e.point.lat;\r\n    //   var marker = new BMap.Marker(new BMap.Point(e.point.lng, e.point.lat));\r\n    //   _this.map.addOverlay(marker);\r\n    // });\r\n    // this.map.addControl(new BMap.NavigationControl());\r\n    // this.local = new BMap.LocalSearch(this.map, { renderOptions: { map: _this.map } });\r\n  },\r\n  methods: {\r\n    // theLocation() {\r\n    //   var _this = this;\r\n    //   var searchName = this.form.userInput;\r\n    //   if (searchName != \"\") {\r\n\r\n    //     this.local.setSearchCompleteCallback(function(searchResult) {\r\n    //       var poi = searchResult.getPoi(0);\r\n    //       _this.form.lng = poi.point.lng;\r\n    //       _this.form.lat = poi.point.lat;\r\n    //       _this.map.centerAndZoom(poi.point, 16);\r\n    //     });\r\n    //     this.local.search(searchName);\r\n    //   }\r\n    // },\r\n    // hide (e) {\r\n    //   if (e.target.className == 'el-dialog__wrapper') {\r\n    //     this.visible = false\r\n    //   }\r\n    // },\r\n    // submit () {\r\n    //   /* 请求接口 */\r\n    //   this.visible = false\r\n    //   this.$emit('loactionChange', {lng: this.form.lng, lat: this.form.lat})\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.el-dialog__title {\r\n  border-bottom: 3px solid #36a3f7;\r\n  padding-bottom: 6px;\r\n}\r\n.dialog__body {\r\n  padding: 10px 20px;\r\n}\r\n.el-button--primary {\r\n  position: relative;\r\n  border-radius: 0 4px 4px 0;\r\n  padding: 12px 23px;\r\n  margin-left: -20px;\r\n}\r\n.result {\r\n  margin-left: 10px;\r\n  span {\r\n    margin-right: 30px;\r\n  }\r\n}\r\n.public_input {\r\n  -webkit-appearance: none;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border-radius: 4px;\r\n    border: 1px solid #dcdfe6;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    color: #606266;\r\n    display: inline-block;\r\n    font-size: inherit;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    outline: 0;\r\n    padding: 0 15px;\r\n    -webkit-transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n    transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n    width: 100%;\r\n}\r\n.el-dialog__footer {\r\n  text-align: center;\r\n} \r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/address/location.vue","<template>\r\n    <div class=\"public_content\">\r\n        <div class=\"public_title\">\r\n          <span>小区录入</span>\r\n           <el-button class=\"fr\" icon=\"el-icon-back\" size=\"small\" @click='$router.go(-1)'>返回</el-button>\r\n        </div>\r\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">  \r\n             <el-form-item label=\"小区名称\" prop=\"community\">\r\n                <el-input v-model.trim=\"ruleForm.community\" style=\"width: 320px\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n \r\n                \r\n          <el-form-item label=\"小区位置\" prop=\"estate\" class=\"inlineBlock\">\r\n            <v-address class=\"inlineBlock\" :pregion='ruleForm.region' :pestate='ruleForm.estate' @emitChange='emitChange'/>\r\n          </el-form-item>\r\n      \r\n          <el-form-item label-width=\"0\" prop=\"address\" class=\"inlineBlock\">\r\n            <el-input v-model.trim=\"ruleForm.address\" placeholder=\"请输入详细地址\" style=\"width: 270px\"/> \r\n\r\n          </el-form-item>\r\n  \r\n          <div>\r\n          <el-form-item label=\"经纬度\" prop=\"lng\" class=\"inlineBlock\">\r\n              <el-input style=\"width: 150px\" v-model=\"ruleForm.lng\"/>\r\n          </el-form-item>\r\n          <el-form-item label-width=\"0\" prop=\"lat\" class=\"inlineBlock\">\r\n              <el-input style=\"width: 150px\" v-model=\"ruleForm.lat\"/> \r\n              <i class=\"iconfont inlineBlock\" style=\"color: #36A3F7;padding-left: 20px;cursor: pointer;\" @click=\"$refs.location.visible = true\">&#xe671;</i> \r\n              <span class=\"public_littleTip\"><i class=\"iconfont\">&#xe670;</i>点击图标进行标注</span>\r\n              <location ref=\"location\" @loactionChange='loactionChange'></location>\r\n          </el-form-item>\r\n        </div>\r\n\r\n            <el-form-item label=\"物业费\" prop=\"propertyfee\">\r\n              <el-input v-model=\"ruleForm.propertyfee\" style=\"width: 200px\">\r\n                <span slot=\"suffix\">元/㎡·月</span>\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"小区缩略图\" prop=\"thumb\">\r\n               <upload-img @onSuccess=\"changeLogo\"></upload-img>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"小区类型\" prop=\"propertytype\">\r\n                <el-checkbox-group v-model=\"ruleForm.propertytype\">\r\n                    <el-checkbox v-for=\"item in housetype\" :label=\"item.id\" :key=\"item.id\">\r\n                        {{ item.paramname }}\r\n                    </el-checkbox> \r\n                </el-checkbox-group>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"建筑形态\" prop=\"biulidingtype\">\r\n                <el-checkbox-group v-model=\"ruleForm.biulidingtype\">\r\n                    <el-checkbox v-for=\"item in decoration\" :label=\"item.id\" :key=\"item.id\">\r\n                        {{ item.paramname }}\r\n                    </el-checkbox> \r\n                </el-checkbox-group>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"特色标签\" prop=\"feature\">\r\n                <el-checkbox-group v-model=\"ruleForm.feature\">\r\n                    <el-checkbox v-for=\"item in feature\" :label=\"item.id\" :key=\"item.id\">\r\n                        {{ item.paramname }}\r\n                    </el-checkbox> \r\n                </el-checkbox-group>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"小区介绍\" style=\"margin-bottom: 120px;\">\r\n                <editor :value=\"ruleForm.content\" \r\n                        @show=\"editors\"     \r\n                        @on-upload-success= \"onEditorUploadComplete\">\r\n                </editor>\r\n            </el-form-item> \r\n\r\n            <el-button type=\"primary\" round @click=\"submitForm('ruleForm')\" class=\"public_submit\">确认提交</el-button>\r\n         </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCommunity, getCommunityParam, getCommunity } from \"@/api/house\";\r\nimport uploadImg from \"@/components/upload/uploadimg\";\r\nimport vAddress from \"@/components/address/index\";\r\nimport location from \"@/components/address/location\";\r\nimport editor from \"@/components/tinymce/editor\";\r\nimport { store } from \"@/store\";\r\nexport default {\r\n  components: {\r\n    uploadImg,\r\n    vAddress,\r\n    editor,\r\n    location\r\n  },\r\n  data() {\r\n    return {\r\n      flag: false,\r\n      decoration: [],\r\n      housetype: [],\r\n      feature: [],\r\n      ruleForm: {\r\n        thumb: \"\",\r\n        community: \"\",\r\n        region: null,\r\n        estate: null,\r\n        address: \"\",\r\n        biulidingtype: [],\r\n        propertytype: [],\r\n        feature: [],\r\n        content: \"\",\r\n        lng: \"\",\r\n        lat: \"\",\r\n        propertyfee: \"\" \r\n      },\r\n      rules: {\r\n        community: [\r\n          { required: true, message: \"请输入门店名称\", trigger: \"change\" }\r\n        ],\r\n        lng: [{ required: true, message: \"请选择经度\" }],\r\n        lat: [{ required: true, message: \"请选择经度\" }],\r\n        estate: [{ required: true, message: \"请选择区域和地段\" }],\r\n        address: [{ required: true, message: \"请填写详细地址\" }]\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    \"ruleForm.community\": function(val, oldVal) {\r\n      getCommunity(this.ruleForm.community).then(res => {\r\n        if (res.data.msg == \"该小区不存在，可以添加！\") {\r\n          this.flag = true;\r\n        } else {\r\n          this.$message.error(\"此小区已被添加\");\r\n          this.flag = false;\r\n        }\r\n      });\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    /* 从其他录入进来的 */ \r\n    if (to.params) {\r\n      next(vm => {\r\n        vm.ruleForm.community = to.params.search;\r\n      });\r\n    } else {\r\n      next();\r\n    }\r\n  },\r\n  /* 如果是从浏览器返回 */\r\n  // beforeRouteLeave (to, from, next) {\r\n  //   if (to.name != \"addsecondhouse\") {\r\n  //     this.$store.commit(\"SET_SEARCH\",{})\r\n  //   }\r\n  //   next()\r\n  // },\r\n  created() { \r\n    getCommunityParam().then(res => {\r\n      this.feature = res.data.feature;\r\n      this.decoration = res.data.decoration;\r\n      this.housetype = res.data.housetype;\r\n    });\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      let _this = this;\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (!this.flag) {\r\n            this.$message.error(\"此小区已被添加\");\r\n            return false;\r\n          }\r\n          addCommunity(this.ruleForm).then(res => {\r\n            if (res.data.code == 1) {\r\n              this.$message.success(\"添加成功\");\r\n\r\n              if (this.$route.params.type == 1) { \r\n                this.$router.push({\r\n                  name: \"addsecondhouse\",\r\n                  params: { search: this.ruleForm.community }\r\n                });\r\n              } else if (this.$route.params.type == 2) {\r\n                 this.$router.push({\r\n                  name: \"addrent\",\r\n                  params: { search: this.ruleForm.community }\r\n                });\r\n              } else if (this.$route.params.type == 3) {\r\n                 this.$router.push({\r\n                  name: \"addstore\",\r\n                  params: { search: this.ruleForm.community }\r\n                });\r\n              } else {\r\n                this.$router.push({ name: \"communitylists\" });\r\n              }\r\n            } else {\r\n              this.$message.error(\"添加失败\");\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    changeLogo(src) { \r\n      this.ruleForm.thumb = src\r\n    },\r\n    /* 经纬度 */\r\n    loactionChange(val) {\r\n      this.ruleForm.lat = val.lat;\r\n      this.ruleForm.lng = val.lng;\r\n    },\r\n    /* 地址接收 */\r\n    emitChange(data) {\r\n      this.ruleForm.region = data.region;\r\n      this.ruleForm.estate = data.estate; \r\n    },\r\n    editors(content) {\r\n      // editor组件传过来的值赋给content\r\n      this.ruleForm.content = content;\r\n    },\r\n    onEditorUploadComplete(json) {\r\n      // 处理上传图片后返回数据，添加img标签到编辑框内\r\n      // console.log(json);\r\n      // console.log(json[0].data.filePath);\r\n      this.content = this.content + \"<img src=\" + json[0].data.filePath + \">\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/community/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"public_content\"},[_c('div',{staticClass:\"public_title\"},[_c('span',[_vm._v(\"小区录入\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"fr\",attrs:{\"icon\":\"el-icon-back\",\"size\":\"small\"},on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"小区名称\",\"prop\":\"community\"}},[_c('el-input',{staticStyle:{\"width\":\"320px\"},model:{value:(_vm.ruleForm.community),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"community\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.community\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inlineBlock\",attrs:{\"label\":\"小区位置\",\"prop\":\"estate\"}},[_c('v-address',{staticClass:\"inlineBlock\",attrs:{\"pregion\":_vm.ruleForm.region,\"pestate\":_vm.ruleForm.estate},on:{\"emitChange\":_vm.emitChange}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inlineBlock\",attrs:{\"label-width\":\"0\",\"prop\":\"address\"}},[_c('el-input',{staticStyle:{\"width\":\"270px\"},attrs:{\"placeholder\":\"请输入详细地址\"},model:{value:(_vm.ruleForm.address),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"address\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.address\"}})],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inlineBlock\",attrs:{\"label\":\"经纬度\",\"prop\":\"lng\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},model:{value:(_vm.ruleForm.lng),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"lng\", $$v)},expression:\"ruleForm.lng\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inlineBlock\",attrs:{\"label-width\":\"0\",\"prop\":\"lat\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},model:{value:(_vm.ruleForm.lat),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"lat\", $$v)},expression:\"ruleForm.lat\"}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont inlineBlock\",staticStyle:{\"color\":\"#36A3F7\",\"padding-left\":\"20px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.$refs.location.visible = true}}},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticClass:\"public_littleTip\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"点击图标进行标注\")]),_vm._v(\" \"),_c('location',{ref:\"location\",on:{\"loactionChange\":_vm.loactionChange}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"物业费\",\"prop\":\"propertyfee\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.ruleForm.propertyfee),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"propertyfee\", $$v)},expression:\"ruleForm.propertyfee\"}},[_c('span',{attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"元/㎡·月\")])])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"小区缩略图\",\"prop\":\"thumb\"}},[_c('upload-img',{on:{\"onSuccess\":_vm.changeLogo}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"小区类型\",\"prop\":\"propertytype\"}},[_c('el-checkbox-group',{model:{value:(_vm.ruleForm.propertytype),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"propertytype\", $$v)},expression:\"ruleForm.propertytype\"}},_vm._l((_vm.housetype),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.paramname)+\"\\n                \")])}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"建筑形态\",\"prop\":\"biulidingtype\"}},[_c('el-checkbox-group',{model:{value:(_vm.ruleForm.biulidingtype),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"biulidingtype\", $$v)},expression:\"ruleForm.biulidingtype\"}},_vm._l((_vm.decoration),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.paramname)+\"\\n                \")])}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"特色标签\",\"prop\":\"feature\"}},[_c('el-checkbox-group',{model:{value:(_vm.ruleForm.feature),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"feature\", $$v)},expression:\"ruleForm.feature\"}},_vm._l((_vm.feature),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.paramname)+\"\\n                \")])}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"120px\"},attrs:{\"label\":\"小区介绍\"}},[_c('editor',{attrs:{\"value\":_vm.ruleForm.content},on:{\"show\":_vm.editors,\"on-upload-success\":_vm.onEditorUploadComplete}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"public_submit\",attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"确认提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-238036ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/community/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-238036ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-238036ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-238036ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/community/add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}