{"version":3,"sources":["webpack:///src/views/shop/members.vue","webpack:///./src/views/shop/members.vue?c704","webpack:///./src/views/shop/members.vue"],"names":["members","data","agent_num","page","total","pageNo","pageSize","lists","created","this","fetchData","methods","handleCurrentChange","val","_this","promise_default","a","resolve","reject","Object","shop","then","res","code","catch","error","add_aggent","$router","push","name","handleSizeChange","remove","id","_this2","$message","success","shop_members","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","_s","class","on","click","_l","item","index","attrs","src","head_portrait","is_shopowner","realname","_f","meal_level","alt","_e","rent_nums","sale_nums","shop_nums","createtime","$event","directives","rawName","value","length","expression","current-page","currentPage3","page-size","size","layout","size-change","current-change","update:currentPage","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.61dca47e7c871fe51789.js","sourcesContent":["<template> \r\n    <div class=\"public_content\">\r\n        <div class=\"public_title\"><span>团队成员</span></div>\r\n        <div class=\"add_aggent\">\r\n            <span class=\"flag\">门店可添加经纪人总人数 <em>{{agent_num}}</em> 人</span>\r\n\r\n            <!-- 点击事件添加经纪人弹窗 -->\r\n            <span class=\"public_btn \" :class=\"agent_num > 0 ? 'blue': 'grey'\" @click=\"add_aggent\">添加经纪人</span>\r\n        </div>\r\n\r\n        <ul class=\"members-wrap\">\r\n            <li v-for=\"(item,index) in lists\" class=\"item\">\r\n                <div class=\"avatar\">\r\n                    <img :src=\"item.head_portrait\">\r\n                    <p class=\"hover\">{{item.is_shopowner ? '店长' : '经纪人'}}</p>\r\n                </div>\r\n                <div class=\"aggent_info\">\r\n\r\n                    <div class=\"name_tag\">\r\n                        <span>{{item.realname}}</span>\r\n                        <img v-if=\"item.meal_level\" :src=\"item.meal_level | markImg\" alt=\"\" class=\"mark\">\r\n                    </div>\r\n\r\n                    <div class=\"house_info\">\r\n                        <span>二手房<em>{{item.rent_nums}}</em>套</span>\r\n                        <span>租房<em>{{item.sale_nums}}</em>套</span>\r\n                        <span>商铺<em>{{item.shop_nums}}</em>套</span>\r\n                    </div>\r\n\r\n                    <p class=\"createtime\">\r\n                        <span>{{item.createtime | formatDate}}</span>\r\n                        <span>加入</span>\r\n                    </p>\r\n                </div>\r\n\r\n                <div class=\"handle\">\r\n                    <span class=\"public_btn blue\" v-if=\"item.is_shopowner == 1\"><i class=\"iconfont\">&#xe652;</i>查看门店</span>\r\n                    \r\n                    <span class=\"public_btn red\" v-else @click=\"remove(item.id)\"><i class=\"iconfont\">&#xe655;</i>移出门店</span>\r\n                     <span class=\"public_btn green\"><i class=\"iconfont\">&#xe66a;</i>他的店铺</span>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n        <div class=\"noContent\"  v-show=\"lists.length == 0\">暂无数据</div>\r\n        <!-- 分页 -->\r\n        <div class=\"mt-20 text-right\" v-show=\"lists.length > 0\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"page.currentPage3\"\r\n            :page-size=\"page.size\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"page.total\">\r\n          </el-pagination>          \r\n        </div>\r\n\r\n    </div> \r\n</template>\r\n\r\n<script>\r\nimport { companyMember, removeCompany } from \"@/api/shop\";\r\nexport default {\r\n  data() {\r\n    return { \r\n      agent_num: \"\",\r\n      page: {\r\n        total: null,\r\n        pageNo: 1,\r\n        pageSize: 10\r\n      },\r\n      lists: []\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchData();\r\n  },\r\n  methods: {\r\n    handleCurrentChange(val) {\r\n      this.page.pageNo = val;\r\n      this.fetchData();\r\n    },\r\n    fetchData() {\r\n      return new Promise((resolve, reject) => {\r\n        let data = {\r\n          pageNo: this.page.pageNo,\r\n          pageSize: 10\r\n        };\r\n        companyMember(data)\r\n          .then(res => {\r\n            if (res.data.code == 1) {\r\n              this.lists = res.data.data;\r\n              this.page.total = res.data.total; \r\n              this.agent_num = res.data.agent_num ? res.data.agent_num : 0;\r\n            }\r\n            resolve(res);\r\n          })\r\n          .catch(error => {\r\n            reject(error);\r\n          });\r\n      });\r\n    },\r\n    add_aggent() {\r\n      if (this.agent_num > 0) {\r\n        this.$router.push({\r\n          name: \"addmember\"\r\n        });\r\n      }\r\n    },\r\n    handleSizeChange(val) {\r\n      this.page.pageSize = val;\r\n      this.fetchData();\r\n    },\r\n    remove(id) { \r\n      removeCompany(id).then(res => {\r\n        if (res.data.code == 1) {\r\n          this.$message.success(\"移除门店成功\");\r\n          this.fetchData().then(res => {\r\n            if (res.data.data == \"\") {\r\n              this.page.pageNo--;\r\n              this.fetchData();\r\n            }\r\n          });\r\n        } else {\r\n          this.$message.error(\"移除门店失败\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.add_aggent {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  .flag {\r\n    color: rgba(67, 89, 110, 1);\r\n    margin-right: 20px;\r\n  }\r\n}\r\n.members-wrap {\r\n  width: 100%;\r\n  // display: flex;\r\n  margin-top: 30px;\r\n  .item {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 49%;\r\n    // flex: 1;\r\n    padding: 20px;\r\n    height: 180px;\r\n    border: 1px solid rgba(201, 211, 223, 1);\r\n    transition: all 0.2s;\r\n    margin-bottom: 20px;\r\n    &:hover {\r\n      box-shadow: 0px 4px 6px 0px rgba(201, 211, 223, 1);\r\n    }\r\n    .avatar {\r\n      position: relative;\r\n      float: left;\r\n      width: 140px;\r\n      height: 140px;\r\n      margin-right: 20px;\r\n      transition: all 0.3s;\r\n      &:hover .hover {\r\n        opacity: 1;\r\n        transition: all 0.3s;\r\n      }\r\n      img {\r\n        width: 140px;\r\n        height: 140px;\r\n      }\r\n      .hover {\r\n        opacity: 0;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 140px;\r\n        height: 20px;\r\n        text-align: center;\r\n        line-height: 20px;\r\n        color: #fff;\r\n        background: rgba(0, 0, 0, 0.4);\r\n        transition: all 0.3s;\r\n      }\r\n    }\r\n    .aggent_info {\r\n      float: left;\r\n      .name_tag {\r\n        span {\r\n          font-size: 18px;\r\n          color: rgba(44, 62, 80, 1);\r\n        }\r\n        img {\r\n          position: relative;\r\n          top: 4px;\r\n          width: 120px;\r\n          height: 24px;\r\n          margin-left: 20px;\r\n        }\r\n      }\r\n      .house_info {\r\n        color: #2c3e50;\r\n        font-size: 16px;\r\n        margin: 34px 0;\r\n        span {\r\n          margin-right: 20px;\r\n        }\r\n      }\r\n      .createtime {\r\n        span:first-child {\r\n          font-size: 16px;\r\n          color: #2c3e50;\r\n        }\r\n        span:nth-child(2) {\r\n          color: #94a1b0;\r\n        }\r\n      }\r\n    }\r\n    .handle {\r\n      position: absolute;\r\n      right: 0;\r\n      width: 140px;\r\n      .public_btn {\r\n        margin-top: 30px;\r\n      }\r\n    }\r\n  }\r\n  .item:nth-child(2n) {\r\n    margin-left: 20px;\r\n  }\r\n}\r\n.public_btn {\r\n  margin-left: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/members.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"public_content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"add_aggent\"},[_c('span',{staticClass:\"flag\"},[_vm._v(\"门店可添加经纪人总人数 \"),_c('em',[_vm._v(_vm._s(_vm.agent_num))]),_vm._v(\" 人\")]),_vm._v(\" \"),_c('span',{staticClass:\"public_btn \",class:_vm.agent_num > 0 ? 'blue': 'grey',on:{\"click\":_vm.add_aggent}},[_vm._v(\"添加经纪人\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"members-wrap\"},_vm._l((_vm.lists),function(item,index){return _c('li',{staticClass:\"item\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":item.head_portrait}}),_vm._v(\" \"),_c('p',{staticClass:\"hover\"},[_vm._v(_vm._s(item.is_shopowner ? '店长' : '经纪人'))])]),_vm._v(\" \"),_c('div',{staticClass:\"aggent_info\"},[_c('div',{staticClass:\"name_tag\"},[_c('span',[_vm._v(_vm._s(item.realname))]),_vm._v(\" \"),(item.meal_level)?_c('img',{staticClass:\"mark\",attrs:{\"src\":_vm._f(\"markImg\")(item.meal_level),\"alt\":\"\"}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"house_info\"},[_c('span',[_vm._v(\"二手房\"),_c('em',[_vm._v(_vm._s(item.rent_nums))]),_vm._v(\"套\")]),_vm._v(\" \"),_c('span',[_vm._v(\"租房\"),_c('em',[_vm._v(_vm._s(item.sale_nums))]),_vm._v(\"套\")]),_vm._v(\" \"),_c('span',[_vm._v(\"商铺\"),_c('em',[_vm._v(_vm._s(item.shop_nums))]),_vm._v(\"套\")])]),_vm._v(\" \"),_c('p',{staticClass:\"createtime\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(item.createtime)))]),_vm._v(\" \"),_c('span',[_vm._v(\"加入\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"handle\"},[(item.is_shopowner == 1)?_c('span',{staticClass:\"public_btn blue\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"查看门店\")]):_c('span',{staticClass:\"public_btn red\",on:{\"click\":function($event){_vm.remove(item.id)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"移出门店\")]),_vm._v(\" \"),_vm._m(1,true)])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lists.length == 0),expression:\"lists.length == 0\"}],staticClass:\"noContent\"},[_vm._v(\"暂无数据\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lists.length > 0),expression:\"lists.length > 0\"}],staticClass:\"mt-20 text-right\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page.currentPage3,\"page-size\":_vm.page.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.page, \"currentPage3\", $event)}}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"public_title\"},[_c('span',[_vm._v(\"团队成员\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"public_btn green\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\"他的店铺\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e4ddc548\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/members.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e4ddc548\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./members.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./members.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./members.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e4ddc548\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./members.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e4ddc548\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/members.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}